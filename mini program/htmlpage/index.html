<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://res.wx.qq.com/open/js/jweixin-1.3.2.js"></script>
    <title>Document</title>
</head>
<body>
    <h1>hello mini programe web view</h1>
    <button id="btn">点击我</button>
    <div id="message"></div>
    <button id="btnBack">返回</button>
    <script>
        wx.config({ appId: 'wx4eb6536de9dff465' }); 
        // 假设URL是：https://example.com?name=John&age=30
        const urlParams = new URLSearchParams(window.location.search);
        console.log("urlParams", urlParams)
        const value = urlParams.get('value'); // 获取参数name的值，结果是 "John"
        const user = urlParams.get('user');   // 获取参数age的值，结果是 "30"
        console.log("value", value, "user", user);
        document.getElementById('btn').addEventListener('click', function() {
            console.log("value", value, "user", user);
            wx.miniProgram.navigateTo({
                url: '/pages/home/index',
            })
            wx.miniProgram.postMessage({data: { content: "我是html页面发送的数据", time: new Date().getTime()}})
        })
        document.getElementById("btnBack").addEventListener('click', function() {
            wx.miniProgram.navigateBack({
                delta: 1,
            })
        })
    </script>
</body>
</html>