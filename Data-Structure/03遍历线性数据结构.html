<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="./page.css">
  <title>03.线性数据结构遍历</title>
</head>
<body>
  <main class="app">
    <section class="paragraph">
      <div class="left-part">
        <h1>什么是遍历</h1>
        <div class="answer">
    
        </div>
        <h1>如何遍历数组</h1>
        <div class="answer">
          <button id="each-array">遍历数组</button>
        </div>
        <h1>如何遍历链表</h1>
        <div class="answer">
          <div class="buttons">
            <button id="each-node">遍历链表</button>
            <button id="each-node-recursion">递归遍历链表</button>
          </div>
        </div>
      </div>
      
    </section>
    <section class="paragraph">
      <h1>链表经典题目：链表逆置</h1>
      <div class="answer">
  
      </div>
    </section>
  </main>

  <script>

    //数组遍历 
    Array.prototype.eachArray = function(value) {
      if(!Array.isArray(value)) return
      for(let i = 0; i < this.length; i++) {
        console.log(this[i])
      }
    }

    // 链表
    class Node {
      constructor(value, next=null) {
        this.value = value;
        this.next = next;
      }
      static eachNode(root) {
        let current = root;
        while(current) {
          console.log(current.value)
          current = current.next
        }
      }
      static eachNodeRecursion(root) {
        if(root === null) return
        console.log(root, root.value);
        this.eachNodeRecursion(root.next)
      }
    }



    let node1 = new Node("node1", new Node("node2", new Node("node3", new Node("node4"))))
    document.getElementById('each-node').onclick = function() {
      Node.eachNode(node1)
    }
    document.getElementById('each-node-recursion').onclick = function() {
      Node.eachNodeRecursion(node1)
    }

    // 逆置链表
    function converseLink(node) {
      let current = node;
      let prev = null;
      while(current) {
        // 先保存现在的next
        let next = current.next;
        // 将自己的next指向上一个
        current.next = prev;
        // 更新prev为自己 让下一个元素指向时 指向自己
        prev = current;
        // 把current更新为next，继续遍历
        current = next;
      }  
    }

    function converseLinkRecursion(node, prev=null) {
        if(node === null) return prev;
        let next = node.next;
        node.next = prev;
        // 通过 return 将最终的链表头返回
        return converseLinkRecursion(next, node);
    }
    console.log('------------------',converseLinkRecursion(node1));
  </script>
</body>
</html>