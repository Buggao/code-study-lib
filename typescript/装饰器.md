è£…é¥°å™¨å¯ä»¥åˆ†ç¦»å…³æ³¨åº¦
è£…é¥°å™¨çš„ä½œç”¨å¯ä»¥è®©ç±»æ›´ä¸“æ³¨è‡ªèº«çš„é€»è¾‘ï¼Œè€Œä¸€äº›é€šç”¨çš„åŠŸèƒ½åˆ™ä½¿ç”¨è£…é¥°å™¨è¿›è¡Œå®ç°ã€‚
è§†é¢‘ä¸­ä¸¾äº†ä¸€ä¸ªæ ¡éªŒçš„ä¾‹å­ï¼š
```typescript
class User {
    private userName: string;
    private userPassword: string;
    private userAge: number;
    constructor(userName: string, userPassword: string, userAge: number) {
        this.userName = userName;
        this.userPassword = userPassword;
        this.userAge = userAge;
    }
}
```

ä¸ºéœ€è¦å¯¹userä¼ å…¥çš„ğŸ“„è¿›è¡Œæ ¡éªŒï¼Œä¾‹å¦‚nameéœ€è¦4-8ä¸ªå­—ç¬¦ï¼›passwordéœ€è¦6-18ä¸ªå­—ç¬¦ï¼Œä¸”éœ€è¦åŒ…å«æ•°å­—ã€å­—æ¯ï¼›ageä¸ºæ•°å­—ç­‰ç­‰
å…¶å®å¯ä»¥é€šè¿‡å†…éƒ¨å®šä¹‰æ ¡éªŒå‡½æ•°çš„æ–¹å¼æ¥è§£å†³ï¼Œä½†æ˜¯å­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š
ä¸€ã€userå†…éƒ¨éœ€è¦å®Œæˆå¾ˆå¤šé€»è¾‘å†…å®¹ï¼Œæ³¨å†Œã€ç™»é™†çŠ¶æ€ç­‰ï¼Œå¦‚æœå†åŠ ä¸Šæ ¡éªŒé€»è¾‘ å¤šå°‘æœ‰äº›å¤ªè¿‡äºåˆ†æ•£äº†ã€‚
äºŒã€å¦‚æœæ­¤æ—¶æˆ‘å†å®šä¸€ä¸ªarticleç±»
```typescript
class Artical {
    private title: string;
    private content: string;
    constructor(title: string, content: string) {
        this.title = title;
        this.content = content;
    }
}
```
æˆ‘ä¹Ÿéœ€è¦å¯¹titleè¿›è¡Œé•¿åº¦é™åˆ¶å‘¢ï¼Ÿæ˜¯å¦å°±å†™äº†é‡å¤çš„é•¿åº¦æ ¡éªŒé€»è¾‘

å…¶å®å¾ˆå¤šUIåº“å·²ç»åšäº†ç±»ä¼¼çš„æ€æƒ³ï¼Œä¾‹å¦‚æˆ‘å¯ä»¥ç›´æ¥ç”¨
```typescript
class User {
    @type("string")
    @require({ rule: length, min: 4, max: 8 })
    private userName: string;
    @type("string")
    @require({ rule: length, min: 6, max: 18 })
    private userPassword: string;
    @type("number")
    @content({ max: 200, min: 0})
    private userAge: number;
    constructor(userName: string, userPassword: string, userAge: number) {
        this.userName = userName;
        this.userPassword = userPassword;
        this.userAge = userAge;
    }
}
```
<!-- 
å…¶å®ä½¿ç”¨ç±»+æ–¹æ³•çš„æ–¹å¼ä¹Ÿå¯ä»¥è¿›è¡Œç»“æœï¼Œä½†æ˜¯è£…é¥°å™¨æœ‰äº†æ›´ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚
ä½¿ç”¨è£…é¥°å™¨ç±»ä¼¼äºæ¥å£çš„æ–¹å¼ï¼Œè£…é¥°å™¨å¯ä»¥ä¸å…³æ³¨å†…éƒ¨å®ç°ï¼Œåªä½¿ç”¨å¤–éƒ¨æ¥ä½¿ç”¨ -->
è£…é¥°å™¨ä¸€å…±æœ‰äº”ç§ï¼šç±»è£…é¥°å™¨ã€å±æ€§è£…é¥°å™¨ã€æ–¹æ³•è£…é¥°å™¨ã€å‚æ•°è£…é¥°å™¨ã€è®¿é—®å™¨è£…é¥°å™¨
# ç±»è£…é¥°å™¨
è£…é¥°å™¨æœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼›è£…é¥°å™¨è¿”å›ç±»å‹æœ‰ä¸¤ç§ï¼šç±»æˆ–è€…void
å¦‚æœè¿”å›ç±»ä¼šå°†ä¼ å…¥çš„ç±»æ›¿æ¢æ‰ã€‚
è£…é¥°å™¨çš„æ‰§è¡Œæ˜¯ä»å†…éƒ¨å‘å¤–éƒ¨æ‰§è¡Œçš„ï¼Œä¾‹å¦‚
```typescript
@FactoryA("é…ç½®A")
@FactoryB(100)
@FactoryC(true)
class MyClass {}
```
ä¼šå…ˆæ‰§è¡ŒFactoryAï¼Œç„¶åFactoryBï¼Œæœ€åFactoryCï¼Œè€ŒMyClassä¼šä½œä¸ºå‚æ•°ä¼ å…¥åˆ°æ¯ä¸ªè£…é¥°å™¨ä¸­ã€‚

## è¯­æ³•ä½¿ç”¨
è£…é¥°å™¨åˆ†ä¸ºä¸¤ç±»ï¼šè£…é¥°å™¨å‡½æ•°å’Œè£…é¥°å™¨å·¥å‚å‡½æ•°
ä¸¤è€…çš„åŒºåˆ«æ˜¯è£…é¥°å™¨å·¥å‚å¯ä»¥ä¼ å…¥å‚æ•°æ¥å®ç°è£…é¥°å™¨çš„ä¸€äº›åŠŸèƒ½
```typescript
function foo2(path: string) {
  return function (target: constructor) {
    console.log("path", path, target);
  }
}
```
```typescript
// è£…é¥°å™¨å·¥å‚ - è¿”å›è£…é¥°å™¨å‡½æ•°
function Route(path: string) {
  return function (target: Function) {
    console.log(`è·¯å¾„: ${path}, ç±»å: ${target.name}`);
    // å¯ä»¥å­˜å‚¨è·¯å¾„ä¿¡æ¯ä¾›åç»­ä½¿ç”¨
    Reflect.defineMetadata('routePath', path, target);
  };
}

@Route("/api/users")
class UserController {}
```
ä½¿ç”¨å¤šä¸ªè£…é¥°å™¨å·¥å‚æ—¶æ‰§è¡Œé¡ºåºä¼šçœ‹èµ·æ¥æœ‰äº›æ€ªï¼š
```typescript
function FactoryA(config: string) {
  console.log("1. FactoryA å·¥å‚å‡½æ•°æ‰§è¡Œï¼Œé…ç½®:", config);
  return function(constructor: Function) {
    console.log("5. FactoryA è¿”å›çš„è£…é¥°å™¨æ‰§è¡Œ");
  };
}

function FactoryB(config: number) {
  console.log("2. FactoryB å·¥å‚å‡½æ•°æ‰§è¡Œï¼Œé…ç½®:", config);
  return function(constructor: Function) {
    console.log("4. FactoryB è¿”å›çš„è£…é¥°å™¨æ‰§è¡Œ");
  };
}

function FactoryC(config: boolean) {
  console.log("3. FactoryC å·¥å‚å‡½æ•°æ‰§è¡Œï¼Œé…ç½®:", config);
  return function(constructor: Function) {
    console.log("6. FactoryC è¿”å›çš„è£…é¥°å™¨æ‰§è¡Œ");
  };
}

console.log("0. ç±»å®šä¹‰å‰");
@FactoryA("é…ç½®A")
@FactoryB(100)
@FactoryC(true)
class MyClass {}
console.log("7. ç±»å®šä¹‰å");

// å®é™…è¾“å‡ºé¡ºåº:
// 0. ç±»å®šä¹‰å‰
// 1. FactoryA å·¥å‚å‡½æ•°æ‰§è¡Œï¼Œé…ç½®: é…ç½®A
// 2. FactoryB å·¥å‚å‡½æ•°æ‰§è¡Œï¼Œé…ç½®: 100  
// 3. FactoryC å·¥å‚å‡½æ•°æ‰§è¡Œï¼Œé…ç½®: true
// 4. FactoryB è¿”å›çš„è£…é¥°å™¨æ‰§è¡Œ
// 5. FactoryA è¿”å›çš„è£…é¥°å™¨æ‰§è¡Œ
// 6. FactoryC è¿”å›çš„è£…é¥°å™¨æ‰§è¡Œ
// 7. ç±»å®šä¹‰å
```

å…·ä½“çš„æƒ…å†µæ˜¯ä¼šå…ˆåˆ¶å®šå·¥å‚å‡½æ•°ï¼Œéšååœ¨ç±»å®šä¹‰æ—¶æ‰§è¡Œåˆ¶å®šè£…é¥°å™¨çš„å‡½æ•°ã€‚

# æˆå‘˜è£…é¥°å™¨ï¼ˆå±æ€§è£…é¥°å™¨ã€æ–¹æ³•è£…é¥°å™¨ï¼‰
æˆå‘˜è£…é¥°å™¨å’Œç±»è£…é¥°å™¨ç±»ä¼¼ï¼Œä½†æ˜¯å¤šäº†å¯ä»¥æ§åˆ¶åŸå‹çš„æ–¹æ³•ã€‚


