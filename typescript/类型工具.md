# typeof

1、针对于普通变量，typeof可以用来让变量的类型保持一致
2、typeof 作用于类时表示类的构造函数

# keyof

可以作用于 类、接口、类型别名
用来获取其他类型组成的联合类型
例如获取对象的属性

```typescript
class User {
  constructor(public name: string, public age: number) {
  }
  sayName() {
    console.log(this.name);
  }
}

function printUserProp(user: User, prop: keyof User) {
    switch(env) {
        case "node":
            console.log(user[prop]);
            break;
        case "browser":
            return html`
                <div>
                    <p>用户${prop}：${user[prop]}</p>
                </div>
            `
            break;
    }
}

const user = new User("张三", 18);
printUserProp(user, "sayName");
```
我需要确保prop是来自user的属性，所以就可以使用keyof关键字来获取 user的属性
# in
in关键字用来限制类型的范围，通常和其他关键字搭配使用
例如：通过in和keyof来限制变量的属性
```typescript
class User {
    userId: string;
    userPassword: string;
    userAge: number;
}

type readonlyUser = {
    readonly [P in keyof User]: User[P];
}

type partialUser = {
    [P in keyof User]?: User[P];
}
```
通过上述的方式扩展、限制user类

也可以使用范型的方式来扩展，恭喜你，发明了高级类型

```typescript
type Partial<T> = {
    [P in keyof T]?: T[P];
}

type Required<T> = {
    [P in keyof T]-?: T[P];
}

type Readonly<T> = {
    readonly [P in keyof T]: T[P];
}
```